<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gestourEyre</title>
    <link rel="stylesheet" href="style.css"> <!-- might need to change for diff pages? -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet"> <!-- Pixel font -->

</head>


<body>
    
        <!-- Sound -->
    <audio id="close-sound" src="all-wii-sounds/Click Channel.wav"></audio>
    <audio id="main-title" src="all-wii-sounds/Shop Channel Title.wav" loop></audio>
    <audio id="panic-sound" src="all-wii-sounds/Update_Scan_Remove.wav"></audio>


    <!-- Boot-up screen -->
    <audio id="ambientHum" src="all-wii-sounds/vibration-1.mp3" autoplay loop></audio>
    <div class="scanlines"></div>


    <div class="boot-up-screen" id="boot-screen">
        <div class="boot-up-text">Loading...</div>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </div>

    <!-- Little Window :) -->
    <div class="window" id="win95-box" style="display: none;">
        <div class="title-bar" id="drag-header">
            <div class="title">gestourEyre</div>
            <div class="controls">
                <button class="btn" onclick="minimizeWindow()">_</button>
                <button class="btn" onclick="growWindow()">‚òê</button>
                <button class="btn" onclick="closeWindow()">X</button>
            </div>
        </div>
        <div class="window-body">
            <p>Hello World!</p>
            <p id="music-message"></p>
            <button class="btn" onclick="killWindow()">Don't click here _„ÄÜ(¬¥–îÔΩÄ )</button>
        </div>
    </div>

        <!-- Taskbar Button -->
    <div id="taskbar">
        <button id="restore-btn" style="display: none;" class="btn">gestourEyre</button>
    </div>


    <!--Marquee-message-->
    <header>
        <marquee>you just lost the game</marquee>
    </header>

    <!--Links-->
    <nav>
        <ul>
            <li><a href="a.html">Home</a></li>
            <li><a href="b.html">What's here</a></li>
            <li><a href="c.html">or here?</a></li>
            <li><a href="sudoku.html">sudoku</a></li>
            <li><a href="weather_report.html">weather-forcast</a></li>
            <li><a href="#1">1</a></li>
            <li><a href="#1.5">1.5</a></li>
            <li><a href="#2">2</a></li>
        </ul>
    </nav>

        <!-- Sections on the site -->

    <section id="1">
        <h2 class="glow terminal-text">First Stop</h2>
        <p class="terminal-text">This is the First Stop.</p>
    </section>

    <section id="1.5">
        <h2>Where are you going?</h2>
        <p>I think this is enough.</p>
    </section>

    <section id="2">
        <h2>Okay.</h2>
        <p>That's all you should go now.</p>
        <a href="RR/RR-Page.html"><img src="RR/cop.gif" alt="üî´"><img src="RR/raptor.gif" alt="ü¶ñ"></a>
    </section>

        <!-- Guestbook Section -->
    <section id="guestbook">
        <h2>Guestbook</h2>
        <div id="message-list">
            <!-- Guestbook messages will appear here -->
        </div>

        <h3>Leave a message</h3>
        <form id="message-form">
            <input type="text" id="name" placeholder="Your Name" required>
            <textarea id="message" placeholder="Your Message" required></textarea>
            <button type="submit">Submit</button>
        </form>
    </section>


    <p>Under Construction üöß</p>

    <footer>
        <p>&copy; 2025 gestourEyre</p>
    </footer>


    <script>
        // Global functions must use lazy lookup (grab elements inside the function)
        function minimizeWindow() {
            const win = document.getElementById("win95-box");
            const music = document.getElementById("main-title");
            const restoreBtn = document.getElementById("restore-btn");
    
            music.pause();
            music.currentTime = 0;
            win.style.display = "none";
            restoreBtn.style.display = "inline-block";
        }
    
        function growWindow() {
    
        let growCount = 0;

        const messagesOnResize = [
        "Whoa, that tickles",
        "Hey! What are you trying to do??",
        "I'm comfortable like this!",
        "Christ! There's nothing more to see!",
        "Do you think I stretch like a webpage?!"
        ];

        
        const win = document.getElementById("win95-box");
        const message = document.getElementById("music-message");
        const panicSound = document.getElementById("panic-sound");

        growCount++;

        if (growCount === 1) {
            // PANIC MODE
            win.classList.add("full-screen", "shake", "flash-bg");

            panicSound.play().catch(e => console.warn("Panic sound blocked:", e));

            const panicFrames = [
                "(¬∞‚ñ°¬∞;)", "(‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØ", "Œ£(¬∞„É≠¬∞)",
                "(((„Çú–î„ÇúÔºõ)))", "(‚òâ_‚òâ)", "(¬∞„É≠¬∞)",
                "(‚âß„É≠‚â¶)", "(ÔºõÔæü–îÔæü)"
            ];

            const panicMessages = [
                "Hey! What just happened??!",
                "I'm not comfortable like this!!!",
                "I CAN'T BREATHE IN FULLSCREEN!!!",
                "HOW DO I BREATHE LIKE THIS??!",
                "I'M JUST A SMALL WINDOW!!",
                "AAAUUUGGGHHHH!!"
            ];

            let frame = 0;
            let msgIndex = 0;

            const panicInterval = setInterval(() => {
                message.innerHTML = `${panicFrames[frame % panicFrames.length]}<br>${panicMessages[msgIndex % panicMessages.length]}`;
                frame++;
                if (frame % 2 === 0) msgIndex++;
            }, 300);

            setTimeout(() => {
                clearInterval(panicInterval);
                win.classList.remove("full-screen", "shake", "flash-bg");
                panicSound.pause();
                panicSound.currentTime = 0;
                message.innerHTML = "(ÔºõÔø£–îÔø£Ôºâ<br>...never again...";
            }, 3000);

        } else if (growCount === 2) {
            message.innerHTML = "i think i have altocelarophobia..."; 
        } else if (growCount === 3) {
            message.innerHTML = "is that a thing?";
        } else if (growCount === 4) {
            message.innerHTML = "(Ôºç‚Ä∏·Éö)<br>No thank you.";
        } else if (growCount === 5) {
            message.innerHTML = "...";
        } else if (growCount === 6) {
            message.innerHTML = "...";
        } else if (growCount === 7) {
            message.innerHTML = "I'm not letting that happen again (¬¨_¬¨)<br>...";
        } else if (growCount === 8) {
            message.innerHTML = "...";
        } else if (growCount === 9) {
            message.innerHTML = "You're very rude";
        } else if (growCount === 10) {
            message.innerHTML = "(„ÜÜ_„ÜÜ)";
        } else {
            message.innerHTML = "You've already done this. ‡≤†_‡≤†";
        }
    }

    

        function closeWindow() {
            const closeSound = document.getElementById("close-sound");
            const win = document.getElementById("win95-box");
            closeSound.play();
            setTimeout(() => {
                win.style.display = "none";
                window.close();
            }, 500);
        }
    
        function killWindow() {
            const closeSound = document.getElementById("close-sound");
            const win = document.getElementById("win95-box");
            closeSound.play();
            win.classList.add("closing");
            setTimeout(() => {
                alert("you killed it...");
                win.style.display = "none";
                document.body.style.display = "none";
            }, 400);
        }
    
        // DOM logic
        window.addEventListener("DOMContentLoaded", () => {
            const win = document.getElementById("win95-box");
            const dragHeader = document.getElementById("drag-header");
            const music = document.getElementById("main-title");
            const message = document.getElementById("music-message");
            const restoreBtn = document.getElementById("restore-btn");
    
            let isDragging = false;
            let hasDragged = false;
            let reopenCount = 0;
            let offsetX, offsetY;
    
            dragHeader.addEventListener("mousedown", (e) => {
                isDragging = true;
                offsetX = e.clientX - win.offsetLeft;
                offsetY = e.clientY - win.offsetTop;
            });
    
            document.addEventListener("mousemove", (e) => {
                const rect = win.getBoundingCliantRect();
                const edgeThreshold = 10;
                
                const nearEdge =
                    e.clientX - rect.left < edgeThreshold ||
                    rect.right - e.clientX < edgeThreshold ||
                    e.clientY - rect.top < edgeThreshold ||
                    rect.bottom - e.clientY < edgeThreshold;
                if (nearEdge) {
                 const msg = messagesOnResize[Math.floor(Math.random() * messagesOnResize.length)];
                 message.innerHTML = msg;

                 setTimeout(() => {
                 if (message.innerHTML === msg) {
                 message.innerHTML = "";
                            }
                        }, 2000);
                    }

                if (isDragging) {
                    win.style.left = `${e.clientX - offsetX}px`;
                    win.style.top = `${e.clientY - offsetY}px`;
    
                    if (!hasDragged) {
                        hasDragged = true;
                        startMusicOnDrag();
                    }
                }
            });
    
            document.addEventListener("mouseup", () => {
                isDragging = false;
            });
    
            restoreBtn.addEventListener("click", () => {
                win.classList.add("restoring");
                win.style.display = "block";
                restoreBtn.style.display = "none";
                music.play().catch(e => console.log("Autoplay blocked:", e));
                reopenCount++;
                if (reopenCount === 1) {
                    message.innerHTML = "Ah, you came back! (‚Äæ‚ó°‚óù)<br>I'll put the music back";
                } else {
                    message.innerHTML = `Whoa! Gosh, #${reopenCount} times now...<br>That's okay. I'll stay for you ÔºàÔø£Ô∏∂Ôø£)`;
                }
                win.addEventListener("animationend", () => {
                    win.classList.remove("restoring");
                }, { once: true });
            });
    
            function startMusicOnDrag() {
                music.play().catch(e => console.log("Autoplay blocked:", e));
                message.innerHTML = "I've put on some music in the background <br>Can You Guess ∆™(Àò‚å£Àò) É ?";
            }
    
            // BOOT-UP
            let progress = 0;
            const progressBar = document.getElementById("progress-bar");
            const bootScreen = document.getElementById("boot-screen");
    
            const bootInterval = setInterval(() => {
                progress += 5;
                progressBar.style.width = `${progress}%`;
    
                if (progress >= 100) {
                    clearInterval(bootInterval);
                    bootScreen.style.display = "none";
                    win.style.display = "block";
                }
            }, 100);
        });
    </script>
    

</body>
</html>
